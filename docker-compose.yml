version: '3.8'

services:
  api_ln1:
    build:
      context: .
    image: ln1_agente_ai_fastapi  # nombre imagen
    container_name: ln1_agente_ai_fastapi  # nombre contenedor
    ports:
      - "8001:8001"
    restart: always
    
    # ============================================================
    # 游댳 Configuraci칩n de rotaci칩n de logs
    # ============================================================
    logging:
      driver: "json-file"
      options:
        # Tama침o m치ximo por archivo de log
        max-size: "100m"
        # M치ximo de archivos a retener
        max-file: "10"
        # Etiquetar logs para mejor identificaci칩n
        labels: "service=ln1_ai_agents_api"
        # Opcional: enviar a syslog tambi칠n
        # driver: "syslog"
        # options:
        #   syslog-address: "udp://localhost:514"
